{% extends 'base.html' %} 
{% block content %}

{% load static %}

<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery.min.js"></script>
<!-- <link rel="stylesheet" href="jquery.dropdown.css"> -->
<script src="jquery.dropdown.js"></script>
<!-- Include the plugin's CSS and JS: -->

<script type="text/javascript" src="js/bootstrap-multiselect.js"></script>
<link rel="stylesheet" href="css/bootstrap-multiselect.css" type="text/css"/>
<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->

<link rel="stylesheet" type="text" href="{% static '/bootstrap-5.1.3-dist/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" media="screen" href="{% static '/css/bootstrap.min.css' %}">

<link href="{% static '/css/bootstrap-toggle.min.css' %}" rel="stylesheet">
<script src="{% static '/js/bootstrap-toggle.min.js' %}"></script>

    <link rel="stylesheet" type="text/css" href="{% static '/css/select2.min.css' %}" />
    <link rel="stylesheet" type="text/css" media="screen" href="{% static '/css/select2.min.css' %}">
<link rel="stylesheet" href="{% static '/css/jquery-ui.css' %}">


<link rel="stylesheet" href="{% static '/css/font-awesome.min.css' %}">

<script src="{% static 'js/timepicker.js' %}"></script>
<!-- <link rel="stylesheet" type="text/css" href="{% static '/css/select2.min.css' %}" /> -->

  <script src="{% static '/js/jquery.min.js' %}"></script>
   <!-- Select2 CSS --> 

<!-- jQuery --> <script src="{% static '/js/jquery.min4.js' %}"></script> 

<!-- Select2 JS --> 
<script src="{% static '/js/select2.min.js' %}"></script>
<!-- Load icon library -->
<link rel="stylesheet" href="{% static '/css/font-awesome.min.css' %}">
<!-- multiple selesct marked officer -->

<link href="css/jquery.multiselect.css" rel="stylesheet" type="text/css">
<script src="{% static '/js/jquery.dataTables.min.js' %}"></script>
  <link href="{% static '/css/jquery.dataTables.min.css' %}"  rel="stylesheet"/>
  <!-- Sheets for datepicker for target date -->
  
  <link rel="stylesheet" href="{% static '/css/jquery-ui.css' %}">
  <link rel="stylesheet" href="/resources/demos/style.css">
  <script src="{% static '/js/jquery-ui.js' %}"></script>
  <link rel="stylesheet" type="text/css" href="{% static '/css/quicksand.css' %} ">
  <link rel="stylesheet" type="text/css" hef="{% static '/css/lato.css' %}">  
    
<style>
  
      table,
      td,
      th {
        border: 2px solid rgb(229, 232, 241);
    
      }
    
      table {
        border-collapse: collapse;
        width: 100%;
        table-layout: auto;
        width: 100%;
        margin-left: 3px;
      }
    
      th {
        height: 100%;
        padding: 15px;
        border-bottom: 1px snow;
        text-decoration: black;
        text-align: center;
      }
    
      td {
        text-align: center;
        padding: 15px;
        table-layout: auto;
    
      }
    
      tr:hover {
        background-color: 1px solid rgba(123, 228, 241, 0.884);
      }
      /* #viewbtn {
        margin-left: 1200px;
        margin-right: 10px;
      } */
    </style>
    
    

<h2 style="font-family: 'Times New Roman', Times, serif;">
    <center><b><u>Checklist Template</u> </b></center>
  </h2>

  <br>
  

<!-- <div class="container" >
<a href="/search_createchecklist/"  style="margin-left: 85%; margin-top:2.7em;height:3em;width:10em; position: static; ">
  <button>Create Checklist Template</button>
</a> 
</div> -->


<br>
<br>
<br>

<form action="#" method="POST" >
   {% csrf_token %}
   <div class="box-body no-padding" style="margin-left: 7em; margin-right: 7em;">
    <table id="tableid" name="tableid" class="table table-striped table-bordered table-sm " cellspacing="0">
        <thead style="background-color: #343a40;white-space: nowrap; color:white;text-align: left;">
            <tr>
            <th> S.No</th>
            <th>Checklist Title</th>
            <th>Inspection Type</th>
            {% comment %} <th>Status</th> {% endcomment %}
            <th>View Template</th>
            <th>Create Inspection Report</th>
            
            </tr>
        </thead>
                                              
            <tbody>
              {% for obj in obj %}


                <tr>
                    <td >{{forloop.counter}}</td>
                    <td style="text-align-last: left;" >{{obj.checklist_title}}</td>
                    <td style="text-align-last: left;">{{obj.inspection_type}}</td>
                    {% comment %} <td>{{ obj.status }}</td> {% endcomment %}
                    <td> <div class="btn-group">
                      <a   href="{% url 'checklistReportPdf' obj.checklist_id %}" style="width: max-content; color: inherit;">
                      <i class="fa fa-file" style="font-size: 25px;"></i></i></a>
                      </div>
                    </td>
                    <td> <div class="btn-group">
                      <a  href="{% url 'search_checklist_template_report' obj.checklist_id %}" style="width: max-content; color: inherit;">
                      <i class="fas fa-edit" style="font-size: 25px;"></i></i></a>
                      </div>
                    </td>

                    
                        
                    </tr>
                    {% endfor %}
                   
                    </tbody>
                    </table>
                     </div>
          
                 
                </div>
</form>
                

  <br>
  <br>

<script>
    function viewChecklist(id,title,mwno,schd)
  {
   window.location ='view_checklist?title='+title+'&mwno='+mwno+'&schd='+schd+'&id='+id
  }
</script>
<script>
    function myfunction(el,id){
      var url="#";
      el.href=url.replace('id',id);
    }
  </script>
  <script>
      function not_valid_user(id, created_by)
  {
    // alert(id);
    alert(created_by+" is working on this checklist ")
     $(id).prop('disabled', true);
  }
      </script>
<!----------arohi-delete-->
<script>
  function deleteChecklist(id)
{
  alert("welcome");
  var result = confirm("Want to delete?");
  if (result==true) 
  {
      //alert("hello");
      // alert("inside delete chceklist");
      console.log("id is --" + id)
          var data = 
          {
            _id:id,
          }
          $.ajax
          ({
            type: 'GET',
            url: "#",
            dataType: 'json',
            data: data,
            success: function (response) {
              if (response.status == 1) 
              {
                alert("Successfully deleted record!")
                window.location.reload();
              }
              else
                {
                console.log("Delete failed");
                }
              } 
            });
  }
  else
  {
    alert("sorry");
    return false;
  }  
      
      
}
</script>
<script>
    $('#viewbtn').click(function (e) {
      e.preventDefault();
      window.location ='#'
    })
  </script>

<script>

  $(document).ready( function () {
    $('#tableid').DataTable();
});

</script>


{% endblock %}  